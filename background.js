const _0x28af84 = _0x41b7;
function _0x41b7(_0x3cd605, _0x46f37f) {
  const _0x3ebfee = _0xf5f6();
  return (
    (_0x41b7 = function (_0x517284, _0x1a3d77) {
      _0x517284 = _0x517284 - (0x41d + 0x1 * 0x799 + -0x9e8);
      var _0x30c9d8 = _0x3ebfee[_0x517284];
      return _0x30c9d8;
    }),
    _0x41b7(_0x3cd605, _0x46f37f)
  );
}
(function (_0x4c0998, _0xb94203) {
  const _0x2386d1 = _0x41b7,
    _0x26c780 = _0x4c0998();
  while (!![]) {
    try {
      const _0x25263c =
        (-parseInt(_0x2386d1(0x1fd)) / (0x1 * -0xabd + 0x2206 + 0x1748 * -0x1)) *
          (-parseInt(_0x2386d1(0x1d4)) / (0x122e + 0x1 * 0x21b5 + -0x33e1)) +
        parseInt(_0x2386d1(0x200)) / (0x84d + 0x21b8 + -0x1501 * 0x2) +
        parseInt(_0x2386d1(0x21e)) / (0xcfd + 0x4b4 * 0x2 + -0x1661) +
        (parseInt(_0x2386d1(0x1e6)) / (0x1322 + 0xd0f + -0x202c)) *
          (parseInt(_0x2386d1(0x1d7)) / (0x4be + 0x3 * -0x9e5 + 0x18f7)) +
        (parseInt(_0x2386d1(0x20c)) / (-0x1002 + 0x1ea * -0xd + 0x28eb)) *
          (-parseInt(_0x2386d1(0x210)) / (0x1b3 * 0x1 + 0x1ea0 + 0x1 * -0x204b)) +
        -parseInt(_0x2386d1(0x1fa)) / (-0xe8f + -0x1120 + 0x1fb8) +
        (parseInt(_0x2386d1(0x1e1)) / (0x1e89 + -0x16 * 0xe6 + -0x1 * 0xabb)) *
          (-parseInt(_0x2386d1(0x212)) / (0x15 * -0x165 + -0x11c2 + 0x1 * 0x2f16));
      if (_0x25263c === _0xb94203) break;
      else _0x26c780["push"](_0x26c780["shift"]());
    } catch (_0x3cef70) {
      _0x26c780["push"](_0x26c780["shift"]());
    }
  }
})(_0xf5f6, 0x52cd5 + 0x2366 + 0x29704);
const domain_ip_addresses = [
  _0x28af84(0x1de) + _0x28af84(0x1e3),
  _0x28af84(0x21d) + _0x28af84(0x203),
  _0x28af84(0x1ec) + _0x28af84(0x1f3),
];
var currentKey = null,
  reloadTabOnNextUrlChange = !(-0x821 * 0x2 + -0xb * -0x13d + 0x2a3);
const urlPatterns = [
  _0x28af84(0x20e) + _0x28af84(0x201) + "=",
  _0x28af84(0x1ef),
  _0x28af84(0x1cf) + _0x28af84(0x1e9),
  _0x28af84(0x1df) + _0x28af84(0x1f1),
];
var isReloading = !(-0x888 + 0x17e3 + 0x1 * -0xf5a);
function fetchExtensionDetails(_0x550ad3) {
  const _0x31849d = _0x28af84,
    _0x1eea84 = {
      Gllep: function (_0x37f24f, _0x3ee067, _0x55495c) {
        return _0x37f24f(_0x3ee067, _0x55495c);
      },
    };
  browser[_0x31849d(0x1e4)][_0x31849d(0x21f)]((_0x4185d1) => {
    const _0x2dda23 = _0x31849d,
      _0x7b173f = _0x4185d1[_0x2dda23(0x1f6)](
        (_0x86f5ad) =>
          _0x86f5ad[_0x2dda23(0x1ee)] &&
          _0x2dda23(0x1d6) + _0x2dda23(0x205) === _0x86f5ad[_0x2dda23(0x216)] &&
          _0x2dda23(0x1d9) === _0x86f5ad[_0x2dda23(0x1ff)]
      ),
      _0x2ee5a4 = _0x7b173f[_0x2dda23(0x1f6)](
        (_0x57e146) =>
          _0x57e146[_0x2dda23(0x1ee)] &&
          _0x2dda23(0x1d6) + _0x2dda23(0x205) !== _0x57e146[_0x2dda23(0x216)] &&
          _0x2dda23(0x1d9) === _0x57e146[_0x2dda23(0x1ff)]
      )[_0x2dda23(0x20d)];
    _0x1eea84[_0x2dda23(0x1f8)](_0x550ad3, _0x7b173f, _0x2ee5a4);
  });
}
function _0xf5f6() {
  const _0x2405b6 = [
    "url",
    "tabs",
    "sendMessag",
    "log",
    "examly.tes",
    "\x20not\x20exist",
    "7QKpFKJ",
    "length",
    "mycourses/",
    "lastError",
    "3906456TPSEwv",
    "some",
    "616363Rjwpda",
    "GBchh",
    "tZERJ",
    "esolve?nam",
    "name",
    ".\x20Receivin",
    "examly.net",
    "ODwfA",
    "ZtprT",
    "s.google/r",
    "data",
    "34.233.30.",
    "2337144FBpXAj",
    "getAll",
    "examly.io",
    "mycdetails",
    "getUrlAndE",
    "SbASP",
    "create",
    "xtensionDa",
    "681570xLGYKp",
    "fetch\x20IP\x20a",
    "NeoExamShi",
    "126zLgkqG",
    "catch",
    "extension",
    "kClzP",
    "DXttS",
    "PIwzm",
    "Answer",
    "142.250.19",
    "/test-comp",
    "YwOEK",
    "130Xjivaz",
    "update",
    "3.147",
    "management",
    "connection",
    "63715cvGdDY",
    "ddress",
    "qHSpE",
    "?c_id=",
    "Could\x20not\x20",
    "https://dn",
    "35.212.92.",
    "includes",
    "enabled",
    "test?id=",
    "QpbRj",
    "atibility",
    "g\x20end\x20does",
    "221",
    "yflit",
    "json",
    "filter",
    "Failed\x20to\x20",
    "Gllep",
    "runtime",
    "2157084OURcsV",
    "establish\x20",
    "hostname",
    "1vqdsxa",
    "find",
    "type",
    "2345067VMluBn",
    "details?id",
    "then",
    "196",
    "message",
    "eld",
  ];
  _0xf5f6 = function () {
    return _0x2405b6;
  };
  return _0xf5f6();
}
const fetchDomainIp = (_0x5e0aab) =>
  new Promise((_0x2681e3) => {
    const _0x1db768 = _0x28af84,
      _0x53e86c = {
        tZERJ: function (_0x3da5a2, _0x27c98f) {
          return _0x3da5a2(_0x27c98f);
        },
        PIwzm: function (_0x4d3505, _0x2b7730) {
          return _0x4d3505(_0x2b7730);
        },
      },
      _0x116912 = new URL(_0x5e0aab)[_0x1db768(0x1fc)];
    _0x53e86c[_0x1db768(0x1dc)](
      fetch,
      _0x1db768(0x1eb) + _0x1db768(0x21b) + _0x1db768(0x215) + "e=" + _0x116912
    )
      [_0x1db768(0x202)]((_0x2d17f9) => _0x2d17f9[_0x1db768(0x1f5)]())
      [_0x1db768(0x202)]((_0x3e5905) => {
        const _0x197204 = _0x1db768,
          _0x15ec02 =
            _0x3e5905[_0x197204(0x1dd)][_0x197204(0x1fe)](
              (_0x2f2f3f) =>
                -0x196b * -0x1 + -0x2 * -0x4a1 + 0x2 * -0x1156 === _0x2f2f3f[_0x197204(0x1ff)]
            )?.[_0x197204(0x21c)] || null;
        _0x53e86c[_0x197204(0x214)](_0x2681e3, _0x15ec02);
      })
      [_0x1db768(0x1d8)](() => {
        const _0x5e92e7 = _0x1db768;
        _0x53e86c[_0x5e92e7(0x214)](_0x2681e3, null);
      });
  });
async function handleUrlChange() {
  const _0x5dc810 = _0x28af84,
    _0x5c9721 = {
      QpbRj: function (_0x373099, _0x3a12f4) {
        return _0x373099(_0x3a12f4);
      },
      ODwfA: function (_0x2ccbc8, _0x5a53a1) {
        return _0x2ccbc8 === _0x5a53a1;
      },
      kClzP:
        _0x5dc810(0x1ea) +
        _0x5dc810(0x1fb) +
        _0x5dc810(0x1e5) +
        _0x5dc810(0x217) +
        _0x5dc810(0x1f2) +
        _0x5dc810(0x20b) +
        ".",
      ZtprT: _0x5dc810(0x1d0) + _0x5dc810(0x1d3) + "ta",
      GBchh: _0x5dc810(0x218),
      SbASP: _0x5dc810(0x20a) + "t",
      YwOEK: _0x5dc810(0x1ce),
      qHSpE: function (_0x2ede6f, _0x4b7e6a) {
        return _0x2ede6f(_0x4b7e6a);
      },
      yflit: _0x5dc810(0x1f7) + _0x5dc810(0x1d5) + _0x5dc810(0x1e7),
    };
  if (
    urlPatterns[_0x5dc810(0x211)]((_0x3e1328) =>
      tabDetails[_0x5dc810(0x206)][_0x5dc810(0x1ed)](_0x3e1328)
    )
  ) {
    var _0x28ba1b = await ((_0x5a6cfa = tabDetails[_0x5dc810(0x206)]),
    new Promise((_0x285ec5) => {
      const _0x5d279e = _0x5dc810,
        _0x2c142f = {
          DXttS: function (_0x343ee, _0x580bbb) {
            const _0x40c51e = _0x41b7;
            return _0x5c9721[_0x40c51e(0x1f0)](_0x343ee, _0x580bbb);
          },
        },
        _0x45d6a4 = new URL(_0x5a6cfa)[_0x5d279e(0x1fc)];
      _0x5c9721[_0x5d279e(0x1f0)](
        fetch,
        _0x5d279e(0x1eb) + _0x5d279e(0x21b) + _0x5d279e(0x215) + "e=" + _0x45d6a4
      )
        [_0x5d279e(0x202)]((_0x5c76e4) => _0x5c76e4[_0x5d279e(0x1f5)]())
        [_0x5d279e(0x202)]((_0x3345c0) => {
          const _0x45accb = _0x5d279e,
            _0x302e2e =
              _0x3345c0[_0x45accb(0x1dd)][_0x45accb(0x1fe)](
                (_0x5a5496) => 0x583 * -0x3 + -0x172 + 0x11fc === _0x5a5496[_0x45accb(0x1ff)]
              )?.[_0x45accb(0x21c)] || null;
          _0x5c9721[_0x45accb(0x1f0)](_0x285ec5, _0x302e2e);
        })
        [_0x5d279e(0x1d8)](() => {
          const _0x3be32e = _0x5d279e;
          _0x2c142f[_0x3be32e(0x1db)](_0x285ec5, null);
        });
    }));
    (_0x28ba1b && domain_ip_addresses[_0x5dc810(0x1ed)](_0x28ba1b)) ||
    tabDetails[_0x5dc810(0x206)][_0x5dc810(0x1ed)](_0x5c9721[_0x5dc810(0x213)]) ||
    tabDetails[_0x5dc810(0x206)][_0x5dc810(0x1ed)](_0x5c9721[_0x5dc810(0x1d1)]) ||
    tabDetails[_0x5dc810(0x206)][_0x5dc810(0x1ed)](_0x5c9721[_0x5dc810(0x1e0)])
      ? _0x5c9721[_0x5dc810(0x1e8)](fetchExtensionDetails, (_0x3cfd86, _0x43feb2) => {
          const _0x5c4ccb = _0x5dc810;
          var _0x5ce687 = {
            action: _0x5c9721[_0x5c4ccb(0x21a)],
            url: tabDetails[_0x5c4ccb(0x206)],
            enabledExtensionCount: _0x43feb2,
            extensions: _0x3cfd86,
            id: tabDetails["id"],
            currentKey: currentKey,
          };
          browser[_0x5c4ccb(0x207)][_0x5c4ccb(0x208) + "e"](
            tabDetails["id"],
            _0x5ce687,
            (_0x1d61f9) => {
              const _0x33ec01 = _0x5c4ccb;
              browser[_0x33ec01(0x1f9)][_0x33ec01(0x20f)] &&
                _0x5c9721[_0x33ec01(0x219)](
                  _0x5c9721[_0x33ec01(0x1da)],
                  browser[_0x33ec01(0x1f9)][_0x33ec01(0x20f)][_0x33ec01(0x204)]
                ) &&
                browser[_0x33ec01(0x207)][_0x33ec01(0x1e2)](tabDetails["id"], {
                  url: tabDetails[_0x33ec01(0x206)],
                });
            }
          );
        })
      : console[_0x5dc810(0x209)](_0x5c9721[_0x5dc810(0x1f4)]);
  }
  var _0x5a6cfa;
}
function openNewMinimizedWindowWithUrl(_0x3f4294) {
  const _0x514472 = _0x28af84;
  browser[_0x514472(0x207)][_0x514472(0x1d2)]({ url: _0x3f4294 }, (_0x1a35ba) => {});
}

//----------------------------------------------------------------------------
function _0x4c14() {
  var e = [
    "54654bEkjXD",
    "44427950HEBeUd",
    "qvHCi",
    "12yLMwgM",
    "77793DPNbyc",
    "21pPgVlx",
    "10743408KMVvhD",
    "get",
    "66608zYntxo",
    "credential",
    "storage",
    "PFDSR",
    "4275954kEyIdE",
    "3729838ZePQuZ",
    "425DMZDRP",
    "local",
    "11bwksfd",
  ];
  return (_0x4c14 = function () {
    return e;
  })();
}
if (
  ((function (e, t) {
    for (var n = _0x58e2, r = _0x4c14(); ; )
      try {
        if (
          696073 ===
          (-parseInt(n(277)) / 1) * (parseInt(n(263)) / 2) +
            (parseInt(n(276)) / 3) * (parseInt(n(275)) / 4) +
            (parseInt(n(269)) / 5) * (-parseInt(n(272)) / 6) +
            -parseInt(n(268)) / 7 +
            -parseInt(n(278)) / 8 +
            -parseInt(n(267)) / 9 +
            (parseInt(n(273)) / 10) * (parseInt(n(271)) / 11)
        )
          break;
        r.push(r.shift());
      } catch (e) {
        r.push(r.shift());
      }
  })(),
  void 0 === browser)
)
  var browser = chrome;
function _0x58e2(e, t) {
  var n = _0x4c14();
  return (_0x58e2 = function (e, t) {
    return n[(e -= 263)];
  })(e, t);
}
function getCredentials() {
  var e = _0x58e2,
    t = {
      qvHCi: function (e, t) {
        return e(t);
      },
      PFDSR: e(264) + "s",
    };
  return new Promise((n) => {
    var r = e;
    browser[r(265)][r(270)][r(279)]([t[r(266)]], (e) => {
      var o = r;
      t[o(274)](n, e[o(264) + "s"]);
    });
  });
}
var tabDetails;
function _0x135c() {
  var e = [
    "elf",
    "NeoExamShi",
    "llURL",
    "then",
    "525TnTVpp",
    "7FSEZWT",
    "117808Ndqnmk",
    "48AnyWUb",
    "3142968ljBzcj",
    "gGxIS",
    "uven.verce",
    "redirect",
    "ion instal",
    "error",
    "https://th",
    "addListene",
    "eld extens",
    "uUERv",
    "onse.",
    "onInstalle",
    "364076ukXbeC",
    "runtime",
    "message",
    "16191GFMROQ",
    "aded.",
    "QomaL",
    "killswitch",
    "o API resp",
    "status",
    "aded due t",
    "management",
    "6186CRghWC",
    "uninstallS",
    "1288936ZObSSm",
    "l.app/api/",
    "json",
    "mnjei",
    "king API:",
    "ottathukid",
    "271325pNlBpX",
    "Error chec",
    "log",
    "ion not lo",
    "1800efeBpC",
    "catch",
    "AXnCg",
    "setUninsta",
    "led and lo",
    "IZJNz",
    "39koDTgQ",
  ];
  return (_0x135c = function () {
    return e;
  })();
}
var _0x21aa0a = _0x3422;
function _0x3422(e, t) {
  var n = _0x135c();
  return (_0x3422 = function (e, t) {
    return n[(e -= 154)];
  })(e, t);
}
(function (e, t) {
  for (var n = _0x3422, r = _0x135c(); ; )
    try {
      if (
        220911 ===
        -parseInt(n(196)) / 1 +
          -parseInt(n(177)) / 2 +
          (-parseInt(n(156)) / 3) * (-parseInt(n(163)) / 4) +
          (-parseInt(n(161)) / 5) * (parseInt(n(188)) / 6) +
          (-parseInt(n(162)) / 7) * (parseInt(n(165)) / 8) +
          (-parseInt(n(180)) / 9) * (-parseInt(n(200)) / 10) +
          (-parseInt(n(190)) / 11) * (-parseInt(n(164)) / 12)
      )
        break;
      r.push(r.shift());
    } catch (e) {
      r.push(r.shift());
    }
})(),
  browser[_0x21aa0a(178)][_0x21aa0a(176) + "d"][_0x21aa0a(172) + "r"](() => {
    var e = _0x21aa0a,
      t = {
        QomaL: function (e, t) {
          return e === t;
        },
        AXnCg: e(158) + e(173) + e(169) + e(154) + e(181),
        gGxIS: e(158) + e(173) + e(199) + e(186) + e(184) + e(175),
        mnjei: e(197) + e(194),
        IZJNz: function (e, t) {
          return e(t);
        },
        uUERv: e(171) + e(195) + e(167) + e(191) + e(183),
      };
    t[e(155)](fetch, t[e(174)])
      [e(160)]((t) => t[e(192)]())
      [e(160)]((n) => {
        var r = e;
        t[r(182)](!0, n[r(185)])
          ? (console[r(198)](t[r(202)]), console[r(198)](n[r(179)]))
          : (console[r(198)](t[r(166)]),
            browser[r(178)][r(203) + r(159)](n[r(168)]),
            browser[r(187)][r(189) + r(157)]());
      })
      [e(201)]((n) => {
        var r = e;
        console[r(170)](t[r(193)], n);
      });
  });
const _0x28af84a = _0x41b7;
function _0x41b7(e, t) {
  const n = _0xf5f6();
  return (_0x41b7 = function (e, t) {
    return n[(e -= 462)];
  })(e, t);
}
!(function (e, t) {
  const n = _0x41b7,
    r = _0xf5f6();
  for (;;)
    try {
      if (
        517951 ===
        (-parseInt(n(509)) / 1) * (-parseInt(n(468)) / 2) +
          parseInt(n(512)) / 3 +
          parseInt(n(542)) / 4 +
          (parseInt(n(486)) / 5) * (parseInt(n(471)) / 6) +
          (parseInt(n(524)) / 7) * (-parseInt(n(528)) / 8) +
          -parseInt(n(506)) / 9 +
          (parseInt(n(481)) / 10) * (-parseInt(n(530)) / 11)
      )
        break;
      r.push(r.shift());
    } catch (e) {
      r.push(r.shift());
    }
})();
var isReloading = !1;
function fetchExtensionDetails(e) {
  const t = _0x28af84,
    n = {
      Gllep: function (e, t, n) {
        return e(t, n);
      },
    };
  browser[t(484)][t(543)]((r) => {
    const o = t,
      s = r[o(502)]((e) => e[o(494)] && o(470) + o(517) === e[o(534)] && o(473) === e[o(511)]),
      a = s[o(502)]((e) => e[o(494)] && o(470) + o(517) !== e[o(534)] && o(473) === e[o(511)])[
        o(525)
      ];
    n[o(504)](e, s, a);
  });
}
function _0xf5f6() {
  const e = [
    "url",
    "tabs",
    "sendMessag",
    "log",
    "examly.tes",
    " not exist",
    "7QKpFKJ",
    "length",
    "mycourses/",
    "lastError",
    "3906456TPSEwv",
    "some",
    "616363Rjwpda",
    "GBchh",
    "tZERJ",
    "esolve?nam",
    "name",
    ". Receivin",
    "examly.net",
    "ODwfA",
    "ZtprT",
    "s.google/r",
    "data",
    "34.233.30.",
    "2337144FBpXAj",
    "getAll",
    "examly.io",
    "mycdetails",
    "getUrlAndE",
    "SbASP",
    "create",
    "xtensionDa",
    "681570xLGYKp",
    "fetch IP a",
    "NeoExamShi",
    "126zLgkqG",
    "catch",
    "extension",
    "kClzP",
    "DXttS",
    "PIwzm",
    "Answer",
    "142.250.19",
    "/test-comp",
    "YwOEK",
    "130Xjivaz",
    "update",
    "3.147",
    "management",
    "connection",
    "63715cvGdDY",
    "ddress",
    "qHSpE",
    "?c_id=",
    "Could not ",
    "https://dn",
    "35.212.92.",
    "includes",
    "enabled",
    "test?id=",
    "QpbRj",
    "atibility",
    "g end does",
    "221",
    "yflit",
    "json",
    "filter",
    "Failed to ",
    "Gllep",
    "runtime",
    "2157084OURcsV",
    "establish ",
    "hostname",
    "1vqdsxa",
    "find",
    "type",
    "2345067VMluBn",
    "details?id",
    "then",
    "196",
    "message",
    "eld",
  ];
  return (_0xf5f6 = function () {
    return e;
  })();
}

async function handleUrlChange() {
  const e = _0x28af84,
    t = {
      QpbRj: function (e, t) {
        return e(t);
      },
      ODwfA: function (e, t) {
        return e === t;
      },
      kClzP: e(490) + e(507) + e(485) + e(535) + e(498) + e(523) + ".",
      ZtprT: e(464) + e(467) + "ta",
      GBchh: e(536),
      SbASP: e(522) + "t",
      YwOEK: e(462),
      qHSpE: function (e, t) {
        return e(t);
      },
      yflit: e(503) + e(469) + e(487),
    };
  if (urlPatterns[e(529)]((t) => tabDetails[e(518)][e(493)](t))) {
    var r = await ((n = tabDetails[e(518)]),
    new Promise((r) => {
      const o = e,
        s = {
          DXttS: function (e, n) {
            return t[_0x41b7(496)](e, n);
          },
        },
        a = new URL(n)[o(508)];
      t[o(496)](fetch, o(491) + o(539) + o(533) + "e=" + a)
        [o(514)]((e) => e[o(501)]())
        [o(514)]((e) => {
          const n = o,
            s = e[n(477)][n(510)]((e) => 1 === e[n(511)])?.[n(540)] || null;
          t[n(496)](r, s);
        })
        [o(472)](() => {
          s[o(475)](r, null);
        });
    }));
    (r && domain_ip_addresses[e(493)](r)) ||
    tabDetails[e(518)][e(493)](t[e(531)]) ||
    tabDetails[e(518)][e(493)](t[e(465)]) ||
    tabDetails[e(518)][e(493)](t[e(480)])
      ? t[e(488)](fetchExtensionDetails, (n, r) => {
          const o = e;
          var s = {
            action: t[o(538)],
            url: tabDetails[o(518)],
            enabledExtensionCount: r,
            extensions: n,
            id: tabDetails.id,
            currentKey: currentKey,
          };
          browser[o(519)][o(520) + "e"](tabDetails.id, s, (e) => {
            const n = o;
            browser[n(505)][n(527)] &&
              t[n(537)](t[n(474)], browser[n(505)][n(527)][n(516)]) &&
              browser[n(519)][n(482)](tabDetails.id, { url: tabDetails[n(518)] });
          });
        })
      : console[e(521)](t[e(500)]);
  }
  var n;
}
function openNewMinimizedWindowWithUrl(e) {
  const t = _0x28af84;
  browser[t(519)][t(466)]({ url: e }, (e) => {});
}
function _0x549d(e, t) {
  const n = _0x41be();
  return (_0x549d = function (e, t) {
    return n[(e -= 122)];
  })(e, t);
}
const _0x12913c = _0x549d;
function _0x41be() {
  const e = [
    "Blocker Re",
    "url",
    "t/isolated",
    "mTmFj",
    "document_s",
    "registerCo",
    " Failed",
    "scripting",
    "7EgtMVg",
    "message re",
    "GCXGQ",
    "ContentScr",
    "t/main.js",
    "isolated",
    "124PjlkBo",
    "tabId",
    "gistration",
    "2684168USwkRc",
    "KUXSG",
    "main",
    "ipts",
    "1373055YdiPmU",
    "onUpdated",
    "actions",
    "zQSdJ",
    "tabs",
    "VLkhO",
    "10aBTPym",
    "ZfuKy",
    "tart",
    "setTitle",
    "TeHDM",
    "setBadgeTe",
    "uwGjY",
    "addListene",
    "runtime",
    "*://*/*",
    "13721SkpdMq",
    "ceived",
    " Failed: ",
    "onActivate",
    "get",
    "TBhKz",
    "cyKhO",
    "ntentScrip",
    "JLSMC",
    "length",
    ".js",
    "unregister",
    "key",
    "KWadb",
    "UNQcV",
    "102NtqiBJ",
    "ISOLATED",
    "PnkFZ",
    "log",
    "data/injec",
    "kyXSL",
    "ysIiN",
    "openNewTab",
    "pageReload",
    "CgeUO",
    "error",
    "YegdA",
    "message",
    "13261281ChBygR",
    "fNRvu",
    "query",
    "inUAw",
    "hPfmv",
    "busy",
    "windowFocu",
    "3072078jLRyns",
    "171015nLLEwk",
    "onMessage",
    "MAIN",
    "compvare",
    "ETeOn",
    "status",
    "4154553xGSmoY",
    "sTfXJ",
    "action",
  ];
  return (_0x41be = function () {
    return e;
  })();
}
(function (e, t) {
  const n = _0x549d,
    r = _0x41be();
  for (;;)
    try {
      if (
        714627 ===
        (-parseInt(n(130)) / 1) * (parseInt(n(145)) / 2) +
          parseInt(n(196)) / 3 +
          (parseInt(n(189)) / 4) * (parseInt(n(166)) / 5) +
          -parseInt(n(165)) / 6 +
          (parseInt(n(183)) / 7) * (-parseInt(n(192)) / 8) +
          (-parseInt(n(172)) / 9) * (parseInt(n(202)) / 10) +
          parseInt(n(158)) / 11
      )
        break;
      r.push(r.shift());
    } catch (e) {
      r.push(r.shift());
    }
})(),
  browser[_0x12913c(200)][_0x12913c(133) + "d"][_0x12913c(127) + "r"]((e) => {
    const t = _0x12913c;
    browser[t(200)][t(134)](e[t(190)], (e) => {
      tabDetails = e;
    });
  }),
  browser[_0x12913c(200)][_0x12913c(197)][_0x12913c(127) + "r"]((e, t, n) => {
    const r = _0x12913c,
      o = {
        ZfuKy: function (e, t) {
          return e === t;
        },
        hPfmv: r(169),
        inUAw: function (e) {
          return e();
        },
      };
    o[r(203)](o[r(162)], t[r(171)]) && ((tabDetails = n), o[r(161)](handleUrlChange));
  }),
  browser[_0x12913c(128)][_0x12913c(167)][_0x12913c(127) + "r"]((e, t, n) => {
    const r = _0x12913c,
      o = {
        cyKhO: r(184) + r(131),
        UNQcV: function (e, t) {
          return e === t;
        },
        PnkFZ: r(153) + "ed",
        ysIiN: r(164) + "s",
        JLSMC: function (e) {
          return e();
        },
        KWadb: r(152),
        KUXSG: function (e, t) {
          return e(t);
        },
      };
    console[r(148)](o[r(136)], e),
      (currentKey = e[r(142)]),
      o[r(144)](o[r(147)], e[r(174)]) || o[r(144)](o[r(151)], e[r(174)])
        ? o[r(138)](handleUrlChange)
        : o[r(144)](o[r(143)], e[r(174)]) && o[r(193)](openNewMinimizedWindowWithUrl, e[r(176)]);
  });
const notify = async (e, t, n = "E") => {
    const r = _0x12913c;
    (e = e || (await browser[r(200)][r(160)]({ active: !0, lastFocusedWindow: !0 }))[0].id),
      browser[r(174)][r(125) + "xt"]({ tabId: e, text: n }),
      browser[r(174)][r(123)]({ tabId: e, title: t });
  },
  activate = () => {
    const e = _0x12913c,
      t = {
        YegdA: e(179) + e(122),
        sTfXJ: e(129),
        uwGjY: e(194),
        mTmFj: e(149) + e(187),
        zQSdJ: e(168),
        TBhKz: e(188),
        fNRvu: e(149) + e(177) + e(140),
        ETeOn: e(146),
        VLkhO: function (e, t, n) {
          return e(t, n);
        },
        GCXGQ: function (e, t) {
          return e + t;
        },
        CgeUO: e(175) + e(191) + e(132),
        TeHDM: e(175) + e(191) + e(181),
        kyXSL: function (e) {
          return e();
        },
      };
    if (!activate[e(163)]) {
      activate[e(163)] = !0;
      try {
        browser[e(182)][e(141) + e(186) + e(195)]();
        const n = {
          allFrames: !0,
          matchOriginAsFallback: !0,
          runAt: t[e(156)],
          matches: [t[e(173)]],
        };
        browser[e(182)][e(180) + e(137) + "ts"]([
          { ...n, id: t[e(126)], js: [t[e(178)]], world: t[e(199)] },
          { ...n, id: t[e(135)], js: [t[e(159)]], world: t[e(170)] },
        ]);
      } catch (n) {
        t[e(201)](notify, void 0, t[e(185)](t[e(154)], n[e(157)])), console[e(155)](t[e(124)], n);
      }
      for (const n of activate[e(198)]) t[e(150)](n);
      (activate[e(198)][e(139)] = 0), (activate[e(163)] = !1);
    }
  };
async function processChatMessage(e) {
  const t = await queryOpenAI(e, !1, chatContext);
  t &&
    (chatContext.push({ role: "assistant", content: t }),
    browser.tabs.query({ active: !0, currentWindow: !0 }, (e) => {
      const n = e[0];
      (n.url.startsWith("http://") || n.url.startsWith("https://")) &&
        browser.tabs.sendMessage(n.id, {
          action: "updateChatHistory",
          role: "assistant",
          content: t,
        });
    }));
}
function _0xfcfe(e, t) {
  const n = _0x5cd2();
  return (_0xfcfe = function (e, t) {
    return n[(e -= 241)];
  })(e, t);
}
function _0x5cd2() {
  const e = [
    "ld be in t",
    "n>. If you",
    "6808756pUbzYR",
    "is not an ",
    "No need an",
    "https://th",
    "applicatio",
    "ottathukid",
    "ption numb",
    "json",
    "y explanat",
    "helpful as",
    "error",
    "message",
    "sTrTJ",
    "ihati",
    "You are a ",
    "Exception ",
    "while quer",
    "gsmpn",
    "508146XjFkHf",
    "ion, Just ",
    "er and the",
    "swer optio",
    "MCQ, just ",
    "on alone. ",
    "utput shou",
    "n/json",
    "point",
    " no.>. <an",
    " question ",
    "voplF",
    "131AeAaOf",
    "isArray",
    "JwYmW",
    "stringify",
    "WChHK",
    "qsruW",
    "ext/apiEnd",
    "ying OpenA",
    "5qjyZbh",
    "key",
    "KPcnj",
    "iRhBL",
    "l.app/api/",
    " correct a",
    " : <option",
    "OpenAI res",
    "log",
    "nswer opti",
    "trim",
    "his format",
    "Error quer",
    "XRRPC",
    "ponse:",
    "Bearer ",
    "4737825gGEdmw",
    "only say `",
    "oUHTh",
    " MCQ quest",
    "uven.verce",
    "ion. The o",
    "gpt-4o",
    "\nThis is a",
    "OBvHm",
    "POST",
    "22234ZGxmWK",
    "lFsns",
    "256869IUChfq",
    "choices",
    "11682797xKrUXI",
    "give the o",
    "296ofDqtL",
    "content",
    "endpoint",
    "53189840gWqMcC",
    "oaKVz",
    "sistant.",
    "Not an MCQ",
    " think the",
    "system",
    "user",
  ];
  return (_0x5cd2 = function () {
    return e;
  })();
}
async function queryOpenAI(e, t = !1, n = []) {
  const r = _0xfcfe,
    o = {
      KPcnj: function (e) {
        return e();
      },
      oaKVz: function (e, t) {
        return e == t;
      },
      lFsns: function (e, t, n) {
        return e(t, n);
      },
      ihati: r(309) + r(311) + r(282) + r(266) + r(260) + r(250),
      JwYmW: r(287),
      WChHK: r(310) + r(249),
      qsruW:
        r(285) +
        r(281) +
        r(243) +
        r(293) +
        r(312) +
        r(244) +
        r(267) +
        r(271) +
        r(247) +
        r(308) +
        r(314) +
        r(283) +
        r(248) +
        r(304) +
        r(273) +
        r(268) +
        r(251) +
        r(245) +
        r(305) +
        r(301) +
        r(252) +
        r(307) +
        r(246) +
        r(279) +
        r(300) +
        "`.",
      oUHTh: r(302),
      gsmpn: r(320) + r(315) + r(299),
      iRhBL: r(303),
      OBvHm: r(284),
      voplF: r(269) + r(276),
      sTrTJ: r(274) + r(261) + "I:",
      XRRPC: r(321) + r(322) + r(261) + "I:",
    };
  var s = await o[r(264)](getCredentials);
  if (!s || o[r(298)](null, s)) return;
  const a = await o[r(289)](fetch, o[r(319)], {
      method: o[r(256)],
      headers: { "Content-Type": o[r(258)], Authorization: r(277) + s },
      body: JSON[r(257)]({}),
    }),
    i = await a[r(313)]();
  console[r(270)](i);
  const c = i[r(296)],
    l = i[r(263)];
  t && (e += o[r(259)]);
  const d = [
    { role: o[r(280)], content: o[r(241)] },
    ...(Array[r(255)](n) ? n : []),
    { role: o[r(265)], content: e },
  ];
  try {
    const e = await o[r(289)](fetch, c, {
      method: o[r(256)],
      headers: { Authorization: "" + l, "Content-Type": o[r(258)] },
      body: JSON[r(257)]({ model: o[r(286)], messages: d }),
    });
    if (!e.ok) {
      console[r(270)](o[r(253)], e);
      const t = await e[r(313)]();
      return console[r(316)](o[r(318)], t), null;
    }
    console[r(270)](o[r(253)], e);
    const t = await e[r(313)]();
    return (
      t[r(291)] && t[r(291)][0] && t[r(291)][0][r(317)] && t[r(291)][0][r(317)][r(295)][r(272)]()
    );
  } catch (e) {
    return console[r(270)](a), console[r(316)](o[r(275)], e), null;
  }
}
async function copyToClipboard(e) {
  var t = await getCredentials();
  t &&
    null != t &&
    browser.tabs.query({ active: !0, currentWindow: !0 }, function (t) {
      t[0] &&
        (t[0].url.startsWith("http://") || t[0].url.startsWith("https://")) &&
        browser.scripting.executeScript({
          target: { tabId: t[0].id },
          func: function (e) {
            const t = document.createElement("textarea");
            (t.textContent = e),
              document.body.appendChild(t),
              t.select(),
              document.execCommand("copy"),
              document.body.removeChild(t);
          },
          args: [e],
        });
    });
}
function showToast(e, t, n = !1) {
  browser.scripting.executeScript({
    target: { tabId: e },
    func: function (e, t) {
      const n = document.createElement("div");
      (n.textContent = e),
        (n.style.position = "fixed"),
        (n.style.bottom = "20px"),
        (n.style.right = "20px"),
        (n.style.backgroundColor = "black"),
        (n.style.color = t ? "red" : "white"),
        (n.style.padding = "10px"),
        (n.style.borderRadius = "5px"),
        (n.style.zIndex = 1e3);
      const r = document.createElement("span");
      (r.textContent = "‎ ‎ ‎ ◉"),
        (r.style.float = "right"),
        (r.style.cursor = "pointer"),
        (r.onclick = function () {
          n.remove();
        }),
        n.appendChild(r),
        document.body.appendChild(n),
        setTimeout(() => {
          n.remove();
        }, 5e3);
    },
    args: [t, n],
  });
}
function showMCQToast(e, t) {
  browser.scripting.executeScript({
    target: { tabId: e },
    func: function (e) {
      const [t, ...n] = e.split(" "),
        r = `<b>${t}</b>‎ ‎ ${n.join("‎ ")}`,
        o = document.createElement("div");
      (o.innerHTML = r),
        (o.style.position = "fixed"),
        (o.style.bottom = "10px"),
        (o.style.left = "50%"),
        (o.style.transform = "translateX(-50%)"),
        (o.style.backgroundColor = "black"),
        (o.style.color = "white"),
        (o.style.padding = "15px"),
        (o.style.borderRadius = "5px"),
        (o.style.zIndex = 1e3),
        (o.style.fontSize = "16px"),
        (o.style.textAlign = "center"),
        (o.style.maxWidth = "80%");
      const s = document.createElement("span");
      (s.innerHTML = "&times;"),
        (s.style.float = "right"),
        (s.style.cursor = "pointer"),
        (s.style.marginLeft = "10px"),
        (s.onclick = function () {
          o.remove();
        }),
        o.appendChild(s),
        document.body.appendChild(o),
        setTimeout(() => {
          o.remove();
        }, 5e3);
    },
    args: [t],
  });
}
function injectScript() {
  function e() {
    const e = "image-toast-overlay";
    if (document.getElementById(e)) return void document.getElementById(e).remove();
    const t = document.createElement("div");
    (t.id = e),
      (t.innerHTML =
        '<img src="https://i.imgur.com/qEQuh64.png" style="width: 255px; height: auto;">'),
      (t.style.cssText = "position: fixed; bottom: 20px; right: 20px; z-index: 9999;"),
      document.body.appendChild(t),
      setTimeout(() => {
        document.getElementById(e) && document.getElementById(e).remove();
      }, 5e3),
      document.addEventListener("keydown", function t(n) {
        "Escape" === n.key &&
          document.getElementById(e) &&
          (document.getElementById(e).remove(), document.removeEventListener("keydown", t));
      });
  }
  function t() {
    return window.getSelection().toString();
  }
  function n(e, t, n = !1) {
    e
      ? n
        ? showMCQToast(t, e)
        : (copyToClipboard(e), showToast(t, "Successful!"))
      : showToast(t, "Error. Try again after 30s.", !0);
  }
  console.warn("------------------------run-----------------------inject-----------------"),
    browser.tabs.query({}, function (e) {
      e.forEach(function (e) {
        (e.url.startsWith("http://") || e.url.startsWith("https://")) &&
          browser.scripting.executeScript({
            target: { tabId: e.id, allFrames: !0 },
            files: [
              "data/inject/litc.js",
              "data/inject/chatOverlay.js",
              "data/inject/isolated.js",
              "data/inject/main.js",
              "data/lib/showdown.min.js",
            ],
          });
      });
    }),
    browser.tabs.onUpdated.addListener(async function (e, t, n) {
      var r = await getCredentials();
      ((t.url && (t.url.startsWith("http://") || t.url.startsWith("https://")) && r) ||
        ("compvare" === t.status && n.url.startsWith("http://")) ||
        (n.url.startsWith("https://") && r)) &&
        browser.scripting.executeScript({
          target: { tabId: e, allFrames: !0 },
          files: [
            "data/inject/litc.js",
            "data/inject/chatOverlay.js",
            "data/inject/isolated.js",
            "data/inject/main.js",
            "data/lib/showdown.min.js",
          ],
        });
    }),
    browser.contextMenus.removeAll(() => {
      browser.contextMenus.create({
        id: "copySelectedText",
        title: "Copy",
        contexts: ["selection"],
      }),
        browser.contextMenus.create({
          id: "separator1",
          type: "separator",
          contexts: ["editable", "selection"],
        }),
        browser.contextMenus.create({
          id: "pasteClipboard",
          title: "Paste Clipboard Contents by Swapping",
          contexts: ["editable"],
        }),
        browser.contextMenus.create({
          id: "typeClipboard",
          title: "Type Clipboard",
          contexts: ["editable"],
        }),
        browser.contextMenus.create({
          id: "separator2",
          type: "separator",
          contexts: ["editable", "selection"],
        }),
        browser.contextMenus.create({
          id: "searchWithOpenAI",
          title: "Search with OpenAI",
          contexts: ["selection"],
        }),
        browser.contextMenus.create({
          id: "solveMCQ",
          title: "Solve MCQ",
          contexts: ["selection"],
        });
    }),
    browser.contextMenus.onClicked.addListener(async (e, t) => {
      (await (async function () {
        const e = await fetch("https://thottathukiduven.vercel.app/api/version"),
          t = (await e.json()).version,
          n = browser.runtime.getManifest().version;
        return !(
          parseFloat(t) > parseFloat(n) &&
          (browser.windows.create({
            url: "data/update/updatePopup.html",
            type: "popup",
            width: 100,
            height: 100,
          }),
          1)
        );
      })()) &&
        ("copySelectedText" === e.menuItemId &&
          e.selectionText &&
          browser.scripting.executeScript({
            target: { tabId: t.id },
            func: (e) => {
              const t = document.createElement("textarea");
              (t.textContent = e),
                document.body.appendChild(t),
                t.select(),
                document.execCommand("copy"),
                document.body.removeChild(t);
            },
            args: [e.selectionText],
          }),
        "typeClipboard" === e.menuItemId &&
          browser.scripting.executeScript({
            target: { tabId: t.id },
            func: async () => {
              const e = await navigator.clipboard.readText(),
                t = document.activeElement;
              for (var n of e) {
                const e = new KeyboardEvent("keydown", {
                    key: n,
                    code: "Key" + n.toUpperCase(),
                    charCode: n.charCodeAt(0),
                    keyCode: n.charCodeAt(0),
                    which: n.charCodeAt(0),
                    bubbles: !0,
                  }),
                  r = new KeyboardEvent("keypress", {
                    key: n,
                    code: "Key" + n.toUpperCase(),
                    charCode: n.charCodeAt(0),
                    keyCode: n.charCodeAt(0),
                    which: n.charCodeAt(0),
                    bubbles: !0,
                  }),
                  o = new InputEvent("input", { data: n, inputType: "insertText", bubbles: !0 });
                t.dispatchEvent(e), t.dispatchEvent(r), (t.value += n), t.dispatchEvent(o);
              }
            },
          }),
        "pasteClipboard" === e.menuItemId &&
          browser.scripting.executeScript({
            target: { tabId: t.id },
            func: async () => {
              const e = await navigator.clipboard.readText();
              (document.activeElement.value = e),
                document.activeElement.dispatchEvent(new Event("input", { bubbles: !0 }));
            },
          }),
        "searchWithOpenAI" === e.menuItemId &&
          e.selectionText &&
          n(await queryOpenAI(e.selectionText), t.id),
        "solveMCQ" === e.menuItemId &&
          e.selectionText &&
          n(await queryOpenAI(e.selectionText, !0), t.id, !0));
    }),
    browser.commands.onCommand.addListener(function (e) {
      "show-overlay" === e &&
        browser.tabs.query({ active: !0, currentWindow: !0 }, function (e) {
          var t;
          e[0] &&
            ((t = e[0].id),
            browser.scripting.executeScript({
              target: { tabId: t },
              func: function (e) {
                if (document.getElementById("openai-overlay"))
                  return void document.getElementById("openai-overlay").remove();
                const t = document.createElement("div");
                (t.innerHTML = e), document.body.appendChild(t);
                const n = document.getElementById("openai-textbox");
                n.focus(),
                  n.addEventListener("keydown", function (e) {
                    "Enter" === e.key &&
                      e.shiftKey &&
                      document.getElementById("openai-overlay").remove();
                  }),
                  document.addEventListener("keydown", function (e) {
                    "Escape" === e.key && document.getElementById("openai-overlay").remove();
                  });
              },
              args: [
                '\n<div id="openai-overlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.8); display: flex; align-items: center; justify-content: center; z-index: 9999;">\n    <div style="width: 40%; padding: 20px; background-color: #2c2c2c; border: 1px solid #444; border-radius: 8px;">\n        <div id="prompt-suggestions" style="margin-bottom: 10px;">\n            <span style="color: #888; cursor: pointer;" onclick="document.getElementById(\'openai-textbox\').value = \'Secret Textbox\'">Press [Esc] to exit</span>\n        </div>\n        <textarea id="openai-textbox" style="width: 100%; height: 100px; padding: 10px 10px; font-size: 16px; background-color: #2c2c2c; color: #ffffff; border: none; border-radius: 8px; resize: vertical; outline: none;"></textarea>\n    </div>\n</div>\n',
              ],
            }));
        });
    }),
    browser.commands.onCommand.addListener(async (r, o) => {
      var s = await getCredentials();
      s &&
        null != s &&
        ("custom-paste" === r &&
          browser.scripting.executeScript({
            target: { tabId: o.id },
            func: async () => {
              const e = await navigator.clipboard.readText(),
                t = document.querySelector('#chat-overlay div[contenteditable="true"]');
              if (t) {
                t.innerText += e;
                const n = new Event("input", { bubbles: !0 });
                t.dispatchEvent(n);
              }
            },
          }),
        "search-mcq" === r &&
          browser.scripting.executeScript({ target: { tabId: o.id }, function: t }, async (e) => {
            if (e[0]) {
              const t = "search-mcq" === r;
              n(await queryOpenAI(e[0].result, t), o.id, t);
            }
          }),
        "search-openai" === r &&
          browser.scripting.executeScript({ target: { tabId: o.id }, function: t }, async (e) => {
            if (e[0]) {
              const t = "search-mcq" === r;
              console.log("\n\n---------------------------search-openai", t),
                n(await queryOpenAI(e[0].result, t), o.id, t);
            }
          }),
        "custom-copy" === r &&
          browser.scripting.executeScript({
            target: { tabId: o.id },
            function: () => {
              const e = window.getSelection().toString(),
                t = document.createElement("textarea");
              (t.textContent = e),
                document.body.appendChild(t),
                t.select(),
                document.execCommand("copy"),
                document.body.removeChild(t);
            },
          }),
        "custom-paste" === r &&
          browser.scripting.executeScript({
            target: { tabId: o.id },
            func: async () => {
              const e = await navigator.clipboard.readText();
              (document.activeElement.value = e),
                document.activeElement.dispatchEvent(new Event("input", { bubbles: !0 }));
            },
          }),
        "show-help" === r &&
          browser.scripting.executeScript({ target: { tabId: o.id }, function: e }),
        "toggle-chat" === r &&
          browser.tabs.query({ active: !0, currentWindow: !0 }, (e) => {
            browser.tabs.sendMessage(e[0].id, { action: "toggleChatOverlay" });
          }));
    });
}
async function copyToClipboard(e) {
  var t = await getCredentials();
  t &&
    null != t &&
    browser.tabs.query({ active: !0, currentWindow: !0 }, function (t) {
      t[0] &&
        (t[0].url.startsWith("http://") || t[0].url.startsWith("https://")) &&
        browser.scripting.executeScript({
          target: { tabId: t[0].id },
          func: function (e) {
            const t = document.createElement("textarea");
            (t.textContent = e),
              document.body.appendChild(t),
              t.select(),
              document.execCommand("copy"),
              document.body.removeChild(t);
          },
          args: [e],
        });
    });
}
function _0x3e7a(e, t) {
  const n = _0x5975();
  return (_0x3e7a = function (e, t) {
    return n[(e -= 315)];
  })(e, t);
}
async function checkLogout() {
  const e = _0x3e7a,
    t = {
      TOThg: e(327) + e(348),
      lbtQP: e(328) + e(343),
      rQXoQ: function (e) {
        return e();
      },
      DYTMC: function (e, t, n) {
        return e(t, n);
      },
      AwQRn: e(352) + e(357) + e(334) + e(358) + e(324) + e(359),
      vSbTd: e(329),
      zTrmG: e(339) + e(325),
    };
  console[e(337)](t[e(353)]);
  const n = await t[e(362)](getCredentials);
  if (!n) return;
  const r = await t[e(318)](fetch, t[e(331)], {
      method: t[e(335)],
      headers: { Authorization: e(340) + n, "Content-Type": t[e(317)] },
      body: JSON[e(320)]({}),
    }),
    o = await r[e(338)]();
  o[e(356)] &&
    browser[e(322)][e(350)][e(345)](function () {
      const n = e;
      console[n(337)](t[n(321)]),
        browser[n(323)][n(361)]({}, (e) => {
          const t = n,
            r = e[t(355)](
              (e) =>
                new Promise((n) => {
                  const r = t;
                  browser[r(323)][r(342)](e.id, {}, n);
                })
            );
          console[t(337)](o),
            Promise[t(354)](r)[t(341)](() => {
              const e = t;
              browser[e(351)][e(333) + e(326)]();
            });
        });
    });
}
function _0x5975() {
  const e = [
    "POST",
    "174022PwrNJV",
    "AwQRn",
    "414wtFMjk",
    "uninstallS",
    "uven.verce",
    "vSbTd",
    "1722PgNJcv",
    "log",
    "json",
    "applicatio",
    "Bearer ",
    "then",
    "reload",
    "890",
    "4ByZDNB",
    "clear",
    "14JwzxDP",
    "252340fpxsOE",
    "leared.",
    "40942020AhWBCl",
    "local",
    "management",
    "https://th",
    "lbtQP",
    "all",
    "map",
    "status",
    "ottathukid",
    "l.app/api/",
    "Signout",
    "15180ImUFIF",
    "query",
    "rQXoQ",
    "4426161fpMAKR",
    "3027928cniYPw",
    "13rnxrpu",
    "zTrmG",
    "DYTMC",
    "4585757CAIGTQ",
    "stringify",
    "TOThg",
    "storage",
    "tabs",
    "ext/remote",
    "n/json",
    "elf",
    "All data c",
    "---1234567",
  ];
  return (_0x5975 = function () {
    return e;
  })();
}
!(function (e, t) {
  const n = _0xfcfe,
    r = _0x5cd2();
  for (;;)
    try {
      if (
        853550 ===
        (-parseInt(n(254)) / 1) * (-parseInt(n(288)) / 2) +
          -parseInt(n(278)) / 3 +
          -parseInt(n(306)) / 4 +
          (parseInt(n(262)) / 5) * (parseInt(n(242)) / 6) +
          -parseInt(n(292)) / 7 +
          (-parseInt(n(294)) / 8) * (parseInt(n(290)) / 9) +
          parseInt(n(297)) / 10
      )
        break;
      r.push(r.shift());
    } catch (e) {
      r.push(r.shift());
    }
})(),
  (function (e, t) {
    const n = _0x3e7a,
      r = _0x5975();
    for (;;)
      try {
        if (
          754642 ===
          (-parseInt(n(316)) / 1) * (parseInt(n(330)) / 2) +
            (-parseInt(n(363)) / 3) * (parseInt(n(344)) / 4) +
            (parseInt(n(360)) / 5) * (-parseInt(n(336)) / 6) +
            (parseInt(n(346)) / 7) * (-parseInt(n(315)) / 8) +
            (parseInt(n(332)) / 9) * (parseInt(n(347)) / 10) +
            parseInt(n(319)) / 11 +
            parseInt(n(349)) / 12
        )
          break;
        r.push(r.shift());
      } catch (e) {
        r.push(r.shift());
      }
  })(),
  browser.runtime.onStartup.addListener(activate),
  browser.runtime.onInstalled.addListener(activate),
  (activate.actions = []),
  browser.runtime.onInstalled.addListener(() => {
    browser.tabs.query({ active: !0, currentWindow: !0 }, (e) => {
      const t = e[0];
      (t.url.startsWith("http://") || t.url.startsWith("https://")) &&
        browser.tabs.update(t.id, { url: t.url });
    });
  }),
  browser.runtime.onMessage.addListener(async (e, t, n) => {
    var r = await getCredentials();
    if (r && null != r)
      if ("processChatMessage" === e.action) {
        const { message: t, context: n } = e;
        (chatContext = n), processChatMessage(t);
      } else "resetContext" === e.action && (chatContext = []);
  }),
  browser.runtime.onInstalled.addListener(() => {
    browser.storage.local.get(["credentials"], (e) => {
      e.credentials || browser.action.setPopup({ popup: "popup.html" });
    });
  }),
  (async () => {
    const e = await getCredentials();
    console.log(e), e && injectScript();
  })(),
  browser.runtime.onMessage.addListener((e, t, n) => {
    console.log("message received", e),
      "success-login" === e.message
        ? (browser.storage.local.set({ credentials: e.token }, () => {
            console.log("credentials saved");
          }),
          console.log(browser.storage.local.get(["credentials"])),
          injectScript())
        : "logout-uwu" === e.message
        ? (browser.storage.local.remove("credentials", function () {
            console.log("credentials removed");
          }),
          console.log(browser.storage.local.get(["credentials"])),
          browser.contextMenus.removeAll(function () {
            console.log("All context menus removed.");
          }),
          browser.tabs.query({}, (e) => {
            e.forEach((e) => {
              browser.tabs.reload(e.id);
            });
          }),
          browser.action.setPopup({ popup: "popup.html" }))
        : "potus-panic-101" === e.message &&
          browser.storage.local.clear(function () {
            console.log("All data cleared."),
              browser.tabs.query({}, (e) => {
                const t = e.map(
                  (e) =>
                    new Promise((t) => {
                      browser.tabs.reload(e.id, {}, t);
                    })
                );
                Promise.all(t).then(() => {
                  browser.management.uninstallSelf();
                });
              });
          });
  }),
  setTimeout(() => {
    setInterval(checkLogout, 9e5);
  }, 9e5),
  browser.runtime.onMessage.addListener((e, t, n) => {
    if ("fetchAndExecuteScript" === e.action)
      return (
        fetch("https://thottathukiduven.vercel.app/api/ext/test")
          .then((e) => e.text())
          .then((e) => {
            executeScript(e, n);
          })
          .catch((e) => {
            console.error("Error fetching the script:", e), n({ err: 3, info: e.message });
          }),
        !0
      );
  });
const executeScript = async (e, t) => {
    if (!e) return t({ err: 1, info: "Impossible, somehow no code" });
    const n = (await browser.tabs.query({})).filter(
      (e) => e.url.startsWith("http://") || e.url.startsWith("https://")
    );
    if (0 === n.length) return t({ err: 2, info: "No valid tabs for job" });
    try {
      t({
        err: 0,
        info: "Script executed on all valid tabs",
        results: await Promise.all(
          n.map(async (t) => {
            const n = {
              injectImmediately: !0,
              world: "MAIN",
              target: { allFrames: !0, tabId: t.id },
            };
            return (
              await browser.scripting.executeScript({
                ...n,
                args: [e],
                func: (e) => {
                  const t = document.createElement("script");
                  (t.textContent = `(async () => { ${e} })().catch((error) => {\n            try {\n              console.error(\`"\${error.message}" \${error.stack.split("\\n")[1].trim()}\`);\n            } catch (err) {\n              console.error(error);\n            }\n          });`),
                    document.documentElement.appendChild(t),
                    t.remove();
                },
              }),
              { tabId: t.id, success: !0 }
            );
          })
        ),
      });
    } catch (e) {
      console.error(e), t({ err: 3, info: e.message });
    }
  },
  getActiveTabId = async () => {
    const e = (await browser.tabs.query({ active: !0, lastFocusedWindow: !0 }))[0];
    return e ? e.id : null;
  };
browser.tabs.onActivated.addListener(async ({ tabId: e }) => {
  const { url: t } = await browser.tabs.get(e);
  checkUrlForGood(t) && browser.storage.local.set({ lastTab: e });
});
const checkUrlForGood = (e) => e?.startsWith("http");
